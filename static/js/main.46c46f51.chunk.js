(this["webpackJsonpreact-shop"]=this["webpackJsonpreact-shop"]||[]).push([[0],{62:function(e,t,r){},63:function(e,t,r){},70:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(12),i=r.n(c),o=(r(62),r(63),r(95)),s=r(97),d=r(98),l=r(36),j=r(2),u=Object(o.a)((function(e){return{root:{flexGrow:1}}}));function b(){var e=u();return Object(j.jsx)("div",{className:e.root,children:Object(j.jsx)(s.a,{position:"static",children:Object(j.jsx)(d.a,{variant:"dense",children:Object(j.jsx)(l.a,{variant:"h6",color:"inherit",children:"React Shop"})})})})}var O=r(29),h=r(50),f=r(7);function m(e,t){var r=t.type,a=t.payload;switch(r){case"SET_GOODS":return Object(f.a)(Object(f.a)({},e),{},{goods:a||[],loading:!1});case"ADD_TO_CART":var n=e.order.findIndex((function(e){return e.id===a.id})),c=null;if(n<0){var i=Object(f.a)(Object(f.a)({},a),{},{quantity:1});c=[].concat(Object(h.a)(e.order),[i])}else c=e.order.map((function(e,t){return t===n?Object(f.a)(Object(f.a)({},e),{},{quantity:e.quantity+1}):e}));return Object(f.a)(Object(f.a)({},e),{},{order:c,alertName:a.name});case"REMOVE_FROM_CART":return Object(f.a)(Object(f.a)({},e),{},{order:e.order.filter((function(e){return e.id!==a.id}))});case"INCREASE_QUANTITY":return Object(f.a)(Object(f.a)({},e),{},{order:e.order.map((function(e){if(e.id===a.id){var t=e.quantity+1;return Object(f.a)(Object(f.a)({},e),{},{quantity:t})}return e}))});case"DECREASE_QUANTITY":return Object(f.a)(Object(f.a)({},e),{},{order:e.order.map((function(e){if(e.id===a.id){var t=e.quantity-1;return Object(f.a)(Object(f.a)({},e),{},{quantity:t>=1?t:1})}return e}))});case"TOGGLE_CART":return Object(f.a)(Object(f.a)({},e),{},{isCartShow:!e.isCartShow});case"CLOSE_ALERT":return Object(f.a)(Object(f.a)({},e),{},{alertName:""});default:return e}}var x=Object(a.createContext)(),p={goods:[],loading:!0,order:[],isCartShow:!1,alertName:""},v=function(e){var t=e.children,r=Object(a.useReducer)(m,p),n=Object(O.a)(r,2),c=n[0],i=n[1];return c.addToCart=function(e){i({type:"ADD_TO_CART",payload:e})},c.removeFromCart=function(e){i({type:"REMOVE_FROM_CART",payload:{id:e}})},c.increaseQuantity=function(e){i({type:"INCREASE_QUANTITY",payload:{id:e}})},c.decreaseQuantity=function(e){i({type:"DECREASE_QUANTITY",payload:{id:e}})},c.handleCartShow=function(){i({type:"TOGGLE_CART"})},c.closeAlert=function(){i({type:"CLOSE_ALERT"})},c.setGoods=function(e){i({type:"SET_GOODS",payload:e})},Object(j.jsx)(x.Provider,{value:c,children:t})},g=r(112),C=Object(o.a)({root:{width:"100%"}});function y(){var e=C(),t=Object(a.useState)(0),r=Object(O.a)(t,2),n=r[0],c=r[1],i=Object(a.useState)(10),o=Object(O.a)(i,2),s=o[0],d=o[1],l=Object(a.useRef)((function(){}));return Object(a.useEffect)((function(){l.current=function(){if(n>100)c(0),d(10);else{var e=10*Math.random(),t=10*Math.random();c(n+e),d(n+e+t)}}})),Object(a.useEffect)((function(){var e=setInterval((function(){l.current()}),500);return function(){clearInterval(e)}}),[]),Object(j.jsx)("div",{className:e.root,children:Object(j.jsx)(g.a,{variant:"buffer",value:n,valueBuffer:s})})}var N=r(99),w=r(100),T=r(103),S=r(102),E=r(101),R=r(104),A=Object(o.a)({root:{maxWidth:300,maxHeight:560,margin:"20px 8px",display:"flex",flexDirection:"column",justifyContent:"space-between"},media:{height:290,width:300},price:{display:"block",marginRight:10,color:"#3f51b5",fontSize:"1.15rem"},title:{fontSize:"1.2rem"},btn:{paddingLeft:15,paddingRight:15},actions:{display:"flex",justifyContent:"space-between",alignItems:"center"}});function _(e){var t=e.id,r=e.name,n=e.description,c=e.price,i=e.full_background,o=A(),s=Object(a.useContext)(x).addToCart;return Object(j.jsxs)(N.a,{className:o.root,children:[Object(j.jsxs)(w.a,{children:[Object(j.jsx)(E.a,{className:o.media,image:i,alt:r.toLowerCase()}),Object(j.jsxs)(S.a,{children:[Object(j.jsx)(l.a,{className:o.title,gutterBottom:!0,variant:"h5",component:"h2",children:r.toLowerCase()}),Object(j.jsx)(l.a,{variant:"body2",color:"textSecondary",component:"p",children:n.toLowerCase()})]})]}),Object(j.jsxs)(T.a,{className:o.actions,children:[Object(j.jsx)(R.a,{className:o.btn,onClick:function(){return s({id:t,name:r,price:c})},size:"small",color:"primary",children:"\u041a\u0443\u043f\u0438\u0442\u044c"}),Object(j.jsx)(l.a,{className:o.price,gutterBottom:!0,variant:"h6",component:"h3",children:"".concat(c," \u0412-\u0431\u0430\u043a\u0441\u043e\u0432")})]})]})}var k=function(){var e=Object(a.useContext)(x).goods,t=void 0===e?[]:e;return t.length?Object(j.jsx)("div",{className:"goods",children:t.map((function(e){return Object(j.jsx)(_,Object(f.a)({},e),e.id)}))}):Object(j.jsx)("h3",{children:"\u0417\u0434\u0435\u0441\u044c \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435\u0442"})},G=r(45),I=r.n(G);var L=function(){var e=Object(a.useContext)(x),t=e.order,r=e.handleCartShow,n=void 0===r?Function.prototype:r,c=t.length;return Object(j.jsxs)("div",{className:"cart",onClick:n,children:[Object(j.jsx)(I.a,{className:"cart-icon"}),c?Object(j.jsx)("span",{className:"cart-quantity",children:c}):null]})},q=r(49),D=r.n(q),M=r(105),Q=r(106),z=r(107),B=r(108),F=r(48),W=r.n(F),Y=r(47),U=r.n(Y),H=r(46),J=r.n(H),V=Object(o.a)((function(e){return{item:{borderBottom:"1px solid #dedede",paddingTop:4,paddingBottom:4},delete:{width:"20px",height:"20px"},icon:{cursor:"pointer",width:"1.2rem",height:"1.2rem",margin:"0 10px",verticalAlign:"middle",color:"#3c4ab3"},price:{fontWeight:600,fontSize:"1.1rem"}}}));var P=function(e){var t=e.id,r=e.name,n=e.price,c=e.quantity,i=Object(a.useContext)(x),o=i.removeFromCart,s=i.increaseQuantity,d=i.decreaseQuantity,l=V();return Object(j.jsxs)(M.a,{className:l.item,children:[Object(j.jsxs)(Q.a,{children:[" ",r.toLowerCase(),Object(j.jsx)(J.a,{className:l.icon,onClick:function(){return d(t)}}),c,Object(j.jsx)(U.a,{className:l.icon,onClick:function(){return s(t)}}),Object(j.jsxs)("span",{className:l.price,children:[" ",n*c]})," \u0412 "]}),Object(j.jsx)(z.a,{children:Object(j.jsx)(B.a,{edge:"end","aria-label":"delete",children:Object(j.jsx)(W.a,{className:l.delete,onClick:function(){return o(t)}})})})]})},K=r(110),X=r(109),Z=Object(o.a)((function(e){return{root:{flexGrow:1,position:"fixed",top:"50%",left:"50%",transform:"translate(-50%,-50%)",width:"35rem",maxWidth:"85%",maxHeight:"35rem",backgroundColor:"#ffffff",borderRadius:10,padding:20,boxShadow:"0px 2px 1px -1px rgb(0 0 0 / 20%), 0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%)",animation:"show 500ms ease-in-out",overflowY:"auto"},container:{maxWidth:"100%"},demo:{backgroundColor:e.palette.background.paper},title:{margin:e.spacing(1,0,1),color:"#292929"},close:{cursor:"pointer",position:"absolute",top:"1rem",right:"1rem"}}}));function $(){var e=Z(),t=Object(a.useContext)(x),r=t.order,n=t.handleCartShow,c=r.reduce((function(e,t){return e+t.price*t.quantity}),0);return Object(j.jsx)("div",{className:e.root,children:Object(j.jsx)(X.a,{container:!0,spacing:2,children:Object(j.jsxs)(X.a,{item:!0,xs:12,md:12,children:[Object(j.jsx)(l.a,{variant:"h6",className:e.title,children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"}),Object(j.jsx)("div",{className:e.demo,children:Object(j.jsx)(K.a,{children:r.length?r.map((function(e){return Object(j.jsx)(P,Object(f.a)({},e),e.id)})):Object(j.jsx)(l.a,{variant:"h6",className:e.title,children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u0430"})})}),Object(j.jsxs)(l.a,{variant:"h6",className:e.title,children:["\u041e\u0431\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c: ",c," \u0412-\u0431\u0430\u043a\u0441\u043e\u0432"]}),Object(j.jsx)(R.a,{size:"medium",color:"primary",children:"\u041a\u0443\u043f\u0438\u0442\u044c"}),Object(j.jsx)(D.a,{className:e.close,onClick:n})]})})})}var ee=r(111),te=Object(o.a)((function(){return{root:{maxWidth:"32%",position:"fixed",top:"12%",right:"10%",animation:"fade-in 250ms ease-in-out"},text:{padding:2,color:"#292929",fontSize:13}}}));function re(){var e=te(),t=Object(a.useContext)(x),r=t.alertName,n=void 0===r?"":r,c=t.closeAlert,i=void 0===c?Function.prototype:c;return Object(a.useEffect)((function(){var e=setTimeout(i,3e3);return function(){clearTimeout(e)}}),[n]),Object(j.jsx)("div",{className:e.root,children:Object(j.jsxs)(ee.a,{className:e.text,severity:"success",color:"info",children:[n.toLowerCase()," \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443."]})})}var ae=function(){var e=Object(a.useContext)(x),t=e.loading,r=e.order,n=e.isCartShow,c=e.alertName,i=e.setGoods;return Object(a.useEffect)((function(){fetch("https://fortniteapi.io/v1/shop?lang=ru",{headers:{Authorization:"71b8c80f-c2df1c72-88fae79b-2f2d13e8"}}).then((function(e){return e.json()})).then((function(e){i(e.featured)}))}),[]),Object(j.jsxs)("main",{className:"container content",children:[Object(j.jsx)(L,{quantity:r.length}),t?Object(j.jsx)(y,{}):Object(j.jsx)(k,{}),n&&Object(j.jsx)($,{}),c&&Object(j.jsx)(re,{})]})},ne=Object(o.a)((function(e){return{root:{flexGrow:1,marginTop:"3rem"},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},repo:{textDecoration:"none",color:"#fff",textTransform:"uppercase"}}}));function ce(){var e=ne();return Object(j.jsx)("div",{className:e.root,children:Object(j.jsx)(s.a,{position:"static",children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{variant:"h6",className:e.title,children:"React Shop"}),Object(j.jsx)("a",{className:e.repo,href:"https://github.com/Mad-Imp/react-shop",target:"_blank",rel:"noreferrer",color:"inherit",children:"\u0420\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0439"})]})})})}var ie=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(b,{}),Object(j.jsx)(v,{children:Object(j.jsx)(ae,{})}),Object(j.jsx)(ce,{})]})};i.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(ie,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.46c46f51.chunk.js.map